<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="UniversalAnalogInputUI.Controls.TabNavigationControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Tab Bar -->
        <Grid Grid.Row="0" x:Name="TabBarGrid" Height="44" Padding="2,0" Margin="0,6,0,6">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Tester Tab -->
            <Grid Grid.Column="0" Margin="4,0">
                <Button x:Name="TesterTab" Height="44"
                        Background="Transparent" BorderThickness="0" HorizontalAlignment="Stretch"
                        Click="TabButton_Click" Tag="Tester"
                        PointerEntered="TabButton_PointerEntered"
                        PointerExited="TabButton_PointerExited">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE7C4;" FontSize="14"/>
                        <TextBlock Text="Tester" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <AppBarSeparator Grid.Column="1" Height="36" VerticalAlignment="Center"/>

            <!-- Curves Tab -->
            <Grid Grid.Column="2" Margin="4,0">
                <Button x:Name="CurvesTab" Height="44"
                        Background="Transparent" BorderThickness="0" HorizontalAlignment="Stretch"
                        Click="TabButton_Click" Tag="Curves"
                        PointerEntered="TabButton_PointerEntered"
                        PointerExited="TabButton_PointerExited">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE81E;" FontSize="14"/>
                        <TextBlock Text="Curves" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <AppBarSeparator Grid.Column="3" Height="36" VerticalAlignment="Center"/>

            <!-- Status Tab -->
            <Grid Grid.Column="4" Margin="4,0">
                <Button x:Name="StatusTab" Height="44"
                        Background="Transparent" BorderThickness="0" HorizontalAlignment="Stretch"
                        Click="TabButton_Click" Tag="Status"
                        PointerEntered="TabButton_PointerEntered"
                        PointerExited="TabButton_PointerExited">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE9D9;" FontSize="14"/>
                        <TextBlock Text="Status" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <AppBarSeparator Grid.Column="5" Height="36" VerticalAlignment="Center"/>

            <!-- Settings Tab -->
            <Grid Grid.Column="6" Margin="4,0">
                <Button x:Name="SettingsTab" Height="44"
                        Background="Transparent" BorderThickness="0" HorizontalAlignment="Stretch"
                        Click="TabButton_Click" Tag="Settings"
                        PointerEntered="TabButton_PointerEntered"
                        PointerExited="TabButton_PointerExited">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE713;" FontSize="14"/>
                        <TextBlock Text="Settings" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <Border x:Name="SelectionIndicator" Height="3" VerticalAlignment="Bottom"
                    Background="{ThemeResource AccentFillColorDefaultBrush}"
                    CornerRadius="2"
                    HorizontalAlignment="Left"
                    Margin="0,0,0,2">
                <Border.RenderTransform>
                    <TranslateTransform x:Name="IndicatorTransform"/>
                </Border.RenderTransform>
            </Border>
        </Grid>

        <!-- Horizontal Separator -->
        <Border Grid.Row="1" Height="1" VerticalAlignment="Top"
                Background="{ThemeResource SurfaceStrokeColorDefaultBrush}"/>

        <!-- Content Frame for Pages -->
        <Frame x:Name="ContentFrame" Grid.Row="1" Margin="15,10,15,15" Background="Transparent"/>
    </Grid>
</UserControl>
