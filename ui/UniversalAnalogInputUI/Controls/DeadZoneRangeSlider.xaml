<UserControl
    x:Class="UniversalAnalogInputUI.Controls.DeadZoneRangeSlider"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Height="56"
    d:DesignWidth="360">

    <Grid x:Name="RootGrid">
        <Canvas x:Name="LayoutCanvas"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Center"
                Height="40"
                Margin="0"
                Background="Transparent"
                PointerPressed="LayoutCanvas_PointerPressed"
                PointerMoved="LayoutCanvas_PointerMoved"
                PointerReleased="LayoutCanvas_PointerReleased"
                PointerCanceled="LayoutCanvas_PointerCanceled"
                PointerCaptureLost="LayoutCanvas_PointerCaptureLost"
                PointerExited="LayoutCanvas_PointerExited"
                SizeChanged="LayoutCanvas_SizeChanged">
            <Rectangle x:Name="TrackBackground"
                       Height="4"
                       RadiusX="2"
                       RadiusY="2"
                       Fill="{ThemeResource TextFillColorTertiaryBrush}" />
            <Rectangle x:Name="SelectionTrack"
                       Height="4"
                       RadiusX="2"
                       RadiusY="2"
                       Fill="#FF3B82F6" />

            <Grid x:Name="LowerHandle"
                  Width="32"
                  Height="32"
                  Background="Transparent"
                  PointerPressed="LowerHandle_PointerPressed"
                  PointerEntered="LowerHandle_PointerEntered"
                  PointerExited="LowerHandle_PointerExited">
                <Ellipse Width="18"
                         Height="18"
                         Fill="White"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
                <Ellipse x:Name="LowerHandleInner"
                         Width="18"
                         Height="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         RenderTransformOrigin="0.5,0.5">
                    <Ellipse.RenderTransform>
                        <ScaleTransform x:Name="LowerHandleScale" ScaleX="0.7" ScaleY="0.7" />
                    </Ellipse.RenderTransform>
                </Ellipse>
            </Grid>

            <Grid x:Name="UpperHandle"
                  Width="32"
                  Height="32"
                  Background="Transparent"
                  PointerPressed="UpperHandle_PointerPressed"
                  PointerEntered="UpperHandle_PointerEntered"
                  PointerExited="UpperHandle_PointerExited">
                <Ellipse Width="18"
                         Height="18"
                         Fill="White"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
                <Ellipse x:Name="UpperHandleInner"
                         Width="18"
                         Height="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         RenderTransformOrigin="0.5,0.5">
                    <Ellipse.RenderTransform>
                        <ScaleTransform x:Name="UpperHandleScale" ScaleX="0.7" ScaleY="0.7" />
                    </Ellipse.RenderTransform>
                </Ellipse>
            </Grid>
        </Canvas>
    </Grid>
</UserControl>
